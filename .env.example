# =============================================================================
# Memory Bank MCP — Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your deployment.
# =============================================================================

# -----------------------------------------------------------------------------
# Transport Mode
# -----------------------------------------------------------------------------
# "stdio" (default) for local MCP clients, "http" for HTTP Streamable transport
MCP_TRANSPORT=http

# -----------------------------------------------------------------------------
# HTTP Transport Settings
# -----------------------------------------------------------------------------
MCP_PORT=3100
MCP_HOST=0.0.0.0
# Set to "true" to use JSON responses instead of SSE streaming
MCP_JSON_RESPONSE=false

# -----------------------------------------------------------------------------
# Database — choose ONE provider
# -----------------------------------------------------------------------------
# Provider: "postgres" (local docker) or "supabase" (external)
DB_PROVIDER=postgres

# Local PostgreSQL (used with docker compose --profile local-db)
DATABASE_URL=postgresql://mbmcp:mbmcp_secret@postgres:5432/memory_bank_mcp

# Supabase PostgreSQL (uncomment and fill in if using Supabase)
# SUPABASE_DB_URL=postgresql://postgres.xxxxxxxxxxxxxxxxxxxx:password@aws-0-us-east-1.pooler.supabase.com:6543/postgres
# DB_PROVIDER=supabase

# Max database connections in the pool
DB_MAX_CONNECTIONS=20

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_URL=redis://redis:6379
# Optional: custom key prefix (default: mbmcp)
# REDIS_KEY_PREFIX=mbmcp

# -----------------------------------------------------------------------------
# PostgreSQL Container (local-db profile)
# -----------------------------------------------------------------------------
POSTGRES_DB=memory_bank_mcp
POSTGRES_USER=mbmcp
POSTGRES_PASSWORD=mbmcp_secret
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Redis Container
# -----------------------------------------------------------------------------
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Traefik
# -----------------------------------------------------------------------------
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_DASHBOARD_PORT=8080

# Uncomment for Let's Encrypt TLS
# ACME_EMAIL=admin@example.com

# -----------------------------------------------------------------------------
# Docker Image
# -----------------------------------------------------------------------------
DOCKER_IMAGE=diaz3618/memory-bank-mcp
DOCKER_TAG=1.8.0

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
NODE_ENV=production
