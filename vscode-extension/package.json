{
  "name": "memory-bank-mcp",
  "displayName": "Memory Bank MCP",
  "description": "Memory Bank management for AI-assisted development via MCP (Model Context Protocol)",
  "version": "2.0.0",
  "publisher": "diaz3618",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/diaz3618/memory-bank-mcp.git"
  },
  "engines": {
    "vscode": "^1.93.0"
  },
  "categories": [
    "AI",
    "Other"
  ],
  "keywords": [
    "memory-bank",
    "mcp",
    "ai",
    "context",
    "knowledge-graph"
  ],
  "icon": "resources/memoryBank.png",
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "icon": "resources/memoryBank.svg",
          "id": "memoryBankView",
          "title": "Memory Bank"
        }
      ]
    },
    "views": {
      "memoryBankView": [
        {
          "id": "memoryBank.views.status",
          "name": "Status"
        },
        {
          "id": "memoryBank.views.files",
          "name": "Files"
        },
        {
          "id": "memoryBank.views.actions",
          "name": "Actions"
        },
        {
          "id": "memoryBank.views.mode",
          "name": "Mode"
        },
        {
          "id": "memoryBank.views.graph",
          "name": "Knowledge Graph",
          "visibility": "collapsed"
        },
        {
          "id": "memoryBank.views.stores",
          "name": "Stores",
          "visibility": "collapsed"
        },
        {
          "id": "memoryBank.views.remote",
          "name": "Remote Servers",
          "visibility": "collapsed"
        },
        {
          "id": "memoryBank.views.help",
          "name": "Help & Links"
        }
      ]
    },
    "commands": [
      {
        "command": "memoryBank.initialize",
        "title": "Initialize Memory Bank",
        "category": "Memory Bank",
        "icon": "$(add)"
      },
      {
        "command": "memoryBank.setPath",
        "title": "Set Memory Bank Path",
        "category": "Memory Bank",
        "icon": "$(folder-opened)"
      },
      {
        "command": "memoryBank.refresh",
        "title": "Refresh",
        "category": "Memory Bank",
        "icon": "$(refresh)"
      },
      {
        "command": "memoryBank.reconnect",
        "title": "Reconnect to MCP Server",
        "category": "Memory Bank",
        "icon": "$(debug-restart)"
      },
      {
        "command": "memoryBank.showLogs",
        "title": "Show Logs",
        "category": "Memory Bank",
        "icon": "$(output)"
      },
      {
        "command": "memoryBank.openFile",
        "title": "Open File",
        "category": "Memory Bank",
        "icon": "$(go-to-file)"
      },
      {
        "command": "memoryBank.switchMode",
        "title": "Switch Mode",
        "category": "Memory Bank",
        "icon": "$(symbol-enum)"
      },
      {
        "command": "memoryBank.installServer",
        "title": "Install MCP Server",
        "category": "Memory Bank",
        "icon": "$(desktop-download)"
      },
      {
        "command": "memoryBank.configureServer",
        "title": "Configure MCP Server",
        "category": "Memory Bank",
        "icon": "$(settings-gear)"
      },
      {
        "command": "memoryBank.createCopilotAgent",
        "title": "Create Copilot Agent Instructions",
        "category": "Memory Bank",
        "icon": "$(hubot)"
      },
      {
        "command": "memoryBank.addRemoteServer",
        "title": "Add Remote Server",
        "category": "Memory Bank",
        "icon": "$(add)"
      },
      {
        "command": "memoryBank.remote.refresh",
        "title": "Refresh Remote Servers",
        "category": "Memory Bank",
        "icon": "$(refresh)"
      },
      {
        "command": "memoryBank.status.refresh",
        "title": "Refresh Status",
        "category": "Memory Bank",
        "icon": "$(refresh)"
      },
      {
        "command": "memoryBank.files.refresh",
        "title": "Refresh Files",
        "category": "Memory Bank",
        "icon": "$(refresh)"
      },
      {
        "command": "memoryBank.graph.refresh",
        "title": "Refresh Graph",
        "category": "Memory Bank",
        "icon": "$(refresh)"
      },
      {
        "command": "memoryBank.graph.addObservation",
        "title": "Add Observation",
        "category": "Memory Bank",
        "icon": "$(comment)"
      },
      {
        "command": "memoryBank.graph.linkEntities",
        "title": "Link Entities",
        "category": "Memory Bank",
        "icon": "$(link)"
      },
      {
        "command": "memoryBank.graph.search",
        "title": "Search Graph",
        "category": "Memory Bank",
        "icon": "$(search)"
      },
      {
        "command": "memoryBank.graph.upsertEntity",
        "title": "Create/Update Entity",
        "category": "Memory Bank",
        "icon": "$(symbol-class)"
      },
      {
        "command": "memoryBank.graph.deleteEntity",
        "title": "Delete Entity",
        "category": "Memory Bank",
        "icon": "$(trash)"
      },
      {
        "command": "memoryBank.graph.deleteObservation",
        "title": "Delete Observation",
        "category": "Memory Bank",
        "icon": "$(trash)"
      },
      {
        "command": "memoryBank.graph.compact",
        "title": "Compact Graph",
        "category": "Memory Bank",
        "icon": "$(fold)"
      },
      {
        "command": "memoryBank.graph.openWebview",
        "title": "Open Graph Visualization",
        "category": "Memory Bank",
        "icon": "$(type-hierarchy)"
      },
      {
        "command": "memoryBank.digest",
        "title": "Show Context Digest",
        "category": "Memory Bank",
        "icon": "$(preview)"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "memoryBank.status.refresh",
          "when": "view == memoryBank.views.status",
          "group": "navigation"
        },
        {
          "command": "memoryBank.initialize",
          "when": "view == memoryBank.views.status",
          "group": "navigation"
        },
        {
          "command": "memoryBank.reconnect",
          "when": "view == memoryBank.views.status",
          "group": "1_connection"
        },
        {
          "command": "memoryBank.showLogs",
          "when": "view == memoryBank.views.status",
          "group": "2_debug"
        },
        {
          "command": "memoryBank.files.refresh",
          "when": "view == memoryBank.views.files",
          "group": "navigation"
        },
        {
          "command": "memoryBank.setPath",
          "when": "view == memoryBank.views.files",
          "group": "navigation"
        },
        {
          "command": "memoryBank.graph.refresh",
          "when": "view == memoryBank.views.graph",
          "group": "navigation"
        },
        {
          "command": "memoryBank.graph.search",
          "when": "view == memoryBank.views.graph",
          "group": "navigation"
        },
        {
          "command": "memoryBank.graph.addObservation",
          "when": "view == memoryBank.views.graph",
          "group": "1_actions"
        },
        {
          "command": "memoryBank.graph.linkEntities",
          "when": "view == memoryBank.views.graph",
          "group": "1_actions"
        },
        {
          "command": "memoryBank.graph.upsertEntity",
          "when": "view == memoryBank.views.graph",
          "group": "1_actions"
        },
        {
          "command": "memoryBank.graph.openWebview",
          "when": "view == memoryBank.views.graph",
          "group": "navigation"
        },
        {
          "command": "memoryBank.graph.compact",
          "when": "view == memoryBank.views.graph",
          "group": "2_maintenance"
        },
        {
          "command": "memoryBank.remote.refresh",
          "when": "view == memoryBank.views.remote",
          "group": "navigation"
        },
        {
          "command": "memoryBank.addRemoteServer",
          "when": "view == memoryBank.views.remote",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "memoryBank.openFile",
          "when": "view == memoryBank.views.files && viewItem == memoryBankFile",
          "group": "inline"
        },
        {
          "command": "memoryBank.switchMode",
          "when": "view == memoryBank.views.mode && viewItem =~ /^mode-/",
          "group": "inline"
        },
        {
          "command": "memoryBank.graph.addObservation",
          "when": "view == memoryBank.views.graph && viewItem == graphEntity",
          "group": "1_actions"
        },
        {
          "command": "memoryBank.graph.deleteEntity",
          "when": "view == memoryBank.views.graph && viewItem == graphEntity",
          "group": "2_destructive"
        },
        {
          "command": "memoryBank.graph.linkEntities",
          "when": "view == memoryBank.views.graph && viewItem == graphEntity",
          "group": "1_actions"
        }
      ],
      "commandPalette": [
        {
          "command": "memoryBank.openFile",
          "when": "false"
        },
        {
          "command": "memoryBank.status.refresh",
          "when": "false"
        },
        {
          "command": "memoryBank.files.refresh",
          "when": "false"
        },
        {
          "command": "memoryBank.graph.refresh",
          "when": "false"
        },
        {
          "command": "memoryBank.remote.refresh",
          "when": "false"
        }
      ]
    },
    "configuration": {
      "title": "Memory Bank",
      "properties": {
        "memoryBank.path": {
          "type": "string",
          "default": "",
          "description": "Path to the Memory Bank directory. Leave empty to use the workspace root."
        },
        "memoryBank.connectionMode": {
          "type": "string",
          "enum": [
            "stdio",
            "http"
          ],
          "default": "stdio",
          "description": "How to connect to the MCP server."
        },
        "memoryBank.stdio.command": {
          "type": "string",
          "default": "",
          "description": "Command to start the MCP server in stdio mode. Leave empty to use .vscode/mcp.json or npx fallback."
        },
        "memoryBank.stdio.args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Arguments for the MCP server command."
        },
        "memoryBank.http.baseUrl": {
          "type": "string",
          "default": "",
          "description": "Base URL for the MCP server in HTTP mode."
        },
        "memoryBank.http.authToken": {
          "type": "string",
          "default": "",
          "description": "Auth token for the MCP server in HTTP mode."
        },
        "memoryBank.autoInitialize": {
          "type": "boolean",
          "default": false,
          "description": "Automatically initialize Memory Bank on startup if not already initialized."
        },
        "memoryBank.statusBar.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Show Memory Bank status in the status bar."
        },
        "memoryBank.defaultStoreId": {
          "type": "string",
          "default": "",
          "description": "Default store ID to auto-select on startup (must be registered in the server's stores.json)."
        }
      }
    },
    "chatParticipants": [
      {
        "id": "memoryBank.agent",
        "fullName": "Memory Bank Agent",
        "name": "memory-bank",
        "description": "AI assistant that uses Memory Bank MCP to maintain persistent context across sessions. Ask me anything about your project's memory bank.",
        "isSticky": false,
        "commands": [
          {
            "name": "status",
            "description": "Show current Memory Bank status and mode"
          },
          {
            "name": "update",
            "description": "Update the active context with current work"
          },
          {
            "name": "progress",
            "description": "Track progress on the current task"
          },
          {
            "name": "decision",
            "description": "Log an architectural or design decision"
          }
        ]
      }
    ],
    "languageModelTools": [
      {
        "name": "memory-bank_get-instructions",
        "tags": [
          "memory-bank",
          "context",
          "mcp"
        ],
        "toolReferenceName": "memoryBankInstructions",
        "displayName": "Memory Bank Instructions",
        "modelDescription": "MANDATORY project context tool. Call this tool FIRST before any code changes, file edits, or analysis. Returns the project's Memory Bank â€” persistent context (active tasks, progress, decisions, knowledge graph) that MUST guide your work. After completing work, call MCP tools to update context: track_progress, update_active_context, log_decision. Never skip reading context. Never skip updating context. The Memory Bank MCP server provides: get_memory_bank_status, get_context_digest, read/write_memory_bank_file, graph_search, graph_upsert_entity, and 30+ other tools for maintaining project state across sessions.",
        "userDescription": "Get Memory Bank usage instructions and current project context",
        "canBeReferencedInPrompt": true,
        "icon": "$(book)"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "npm run check-types && node esbuild.js --production",
    "check-types": "tsc --noEmit",
    "watch": "node esbuild.js --watch",
    "lint": "eslint --ext .ts src",
    "test": "vitest run",
    "test:watch": "vitest",
    "package": "npx @vscode/vsce package --no-dependencies"
  },
  "devDependencies": {
    "@types/node": "^20.11.0",
    "@types/react": "^19.2.14",
    "@types/react-dom": "^19.2.3",
    "@types/vscode": "^1.93.0",
    "@typescript-eslint/eslint-plugin": "^7.0.0",
    "@typescript-eslint/parser": "^7.0.0",
    "esbuild": "^0.25.0",
    "eslint": "^8.56.0",
    "typescript": "^5.3.0",
    "vitest": "^4.0.18"
  },
  "dependencies": {
    "@dagrejs/dagre": "^2.0.4",
    "@xyflow/react": "^12.10.0",
    "elkjs": "^0.11.0",
    "jsonc-parser": "^3.3.1",
    "react": "^19.2.4",
    "react-dom": "^19.2.4"
  }
}
